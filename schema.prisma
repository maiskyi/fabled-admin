// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(cuid())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  createdAt DateTime? @default(now())
}

model Feedback {
  id             String    @id @default(cuid())
  firebaseUserId String    @default("")
  email          String    @default("")
  rating         Int
  comment        String    @default("")
  createdAt      DateTime? @default(now())
}

model Story {
  id             String        @id @default(cuid())
  firebaseUserId String        @default("")
  prompt         Prompt?       @relation("Story_prompt", fields: [promptId], references: [id])
  promptId       String?       @map("prompt")
  character      Character?    @relation("Story_character", fields: [characterId], references: [id])
  characterId    String?       @map("character")
  placeOfEvent   PlaceOfEvent? @relation("Story_placeOfEvent", fields: [placeOfEventId], references: [id])
  placeOfEventId String?       @map("placeOfEvent")
  moralLesson    MoralLesson?  @relation("Story_moralLesson", fields: [moralLessonId], references: [id])
  moralLessonId  String?       @map("moralLesson")
  title          String        @default("")
  content        String        @default("")
  image          String?
  readTime       Int
  status         String        @default("[\"initialized\"]")
  isReady        Boolean       @default(false)
  contentPrompt  String        @default("")
  imagePrompt    String        @default("")
  message        String        @default("")
  createdAt      DateTime?     @default(now())

  @@index([promptId])
  @@index([characterId])
  @@index([placeOfEventId])
  @@index([moralLessonId])
  @@index([title])
  @@index([content])
}

model Inquiry {
  id        String    @id @default(cuid())
  email     String    @default("")
  subject   String    @default("")
  message   String    @default("")
  createdAt DateTime? @default(now())
}

model Character {
  id                   String    @id @default(cuid())
  title                String    @default("")
  description          String    @default("")
  image                String?
  language             String
  isPublished          Boolean   @default(false)
  createdAt            DateTime? @default(now())
  from_Story_character Story[]   @relation("Story_character")
}

model MoralLesson {
  id                     String    @id @default(cuid())
  title                  String    @default("")
  description            String    @default("")
  language               String
  isPublished            Boolean   @default(false)
  createdAt              DateTime? @default(now())
  from_Story_moralLesson Story[]   @relation("Story_moralLesson")
}

model PlaceOfEvent {
  id                      String    @id @default(cuid())
  title                   String    @default("")
  image                   String?
  language                String
  isPublished             Boolean   @default(false)
  createdAt               DateTime? @default(now())
  from_Story_placeOfEvent Story[]   @relation("Story_placeOfEvent")
}

model Prompt {
  id                String    @id @default(cuid())
  title             String    @default("")
  message           String    @default("")
  textPrompt        String    @default("")
  imagePrompt       String    @default("")
  language          String
  createdAt         DateTime? @default(now())
  from_Story_prompt Story[]   @relation("Story_prompt")
}

model Config {
  id                    Int    @id
  privacyPolicyUrl      String @default("")
  termsAndConditionsUrl String @default("")
}
